# Telegram 

## Содержание

- [Содержание](#содержание)
- [Основная часть](#основная-часть)
  - [1. Тема и целевая аудитория](#1-тема-и-целевая-аудитория)
    - [Анализ трафика и вовлеченности](#анализ-трафика-и-вовлеченности)
- [Список источников](#список-источников)

## Основная часть

### 1. Тема и целевая аудитория

**Telegram** - это мессенджер, который позволяет общаться с друзьями, коллегами и другими людьми

**MVP**
1. Регистрация и авторизация пользователей
2. Чтение и отправка сообщений
3. Создание и модерирование групповых чатов
4. Создание и модерирование каналов
5. Загрузка файлов
6. Добавление контактов

**Целевая аудитория**

### Анализ трафика и вовлеченности:

- Количество пользователей в месяц: 950 миллионов
- Количество пользователей в день: 450 миллионов
- 45% пользователей телеграмма - жители Индии, 9% - американцы
- 53.2% пользователей возрастом от 25 до 44 лет
- Среднее время использования телеграмма в месяц: 3 часа 45 минут
- Пользователей в России: 85 млн человек
- По загрузкам лидирует Индия, за ней Россия и США

![Пользователи в месяц по годам](./img/stats/MAU_by_year.png)
**Пользователи в месяц по годам**

![Распределение пользователей по странам](./img/stats/usage_by_country.png)
**Распределение пользователей по странам**

![Распределение загрузок по странам](./img/stats/downloads_by_country.png)
**Распределение загрузок приложения по странам**

# 2. Расчет нагрузки для Telegram

## Продуктовые метрики: детальные расчеты

### 1. **Месячная (MAU) и дневная аудитория (DAU)**
- **MAU = 950 млн**  
  Источник: Официальные данные Telegram (на 2024 г.) [[7]](https://telegram.org/blog/700-million).  
- **DAU = 450 млн**  
  Расчет:  
  Для мессенджеров DAU/MAU обычно составляет **45-50%** (например, у WhatsApp — 55%, у Viber — 40% [[8]](https://www.businessofapps.com/data/whatsapp-statistics/)).  
  Выбрано **47%**:  
  `950 млн * 0.47 = 446.5 млн ≈ 450 млн`.

---

### 2. **Средний размер хранилища пользователя**
#### Предположения:
- **Текстовые сообщения**:  
  - Средний размер сообщения: **5 КБ** (текст + метаданные: ID, время, статус) [[9]](https://core.telegram.org/mtproto/description).  
  - Хранится **10,000 сообщений/пользователь**:  
    `10,000 * 5 КБ = 50 МБ ≈ 0.05 ГБ`.

- **Фото**:  
  - Средний размер фото: **2 МБ** (сжатие до 720p) [[10]](https://www.androidpolice.com/telegram-media-quality/)).  
  - Хранится **500 фото/пользователь**:  
    `500 * 2 МБ = 1,000 МБ = 1 ГБ`.

- **Видео**:  
  - 1 минута HD-видео (720p): **100 МБ** [[11]](https://www.videomaker.com/article/c10/14261-bitrate-and-file-size-calculations)).  
  - Хранится **50 видео/пользователь**:  
    `50 * 100 МБ = 5 ГБ`.

- **Файлы**:  
  - Средний размер документа: **5 МБ** (PDF, презентации).  
  - Хранится **100 файлов/пользователь**:  
    `100 * 5 МБ = 0.5 ГБ`.

**Итого на пользователя**:  
`0.05 ГБ + 1 ГБ + 5 ГБ + 0.5 ГБ = 6.55 ГБ`.

---

### 3. **Среднее количество действий пользователя в день**
#### Отправка сообщений:
- **30 сообщений/день**  
  Источник: Аналогично WhatsApp (25-35 сообщений/день) [[12]](https://www.statista.com/statistics/1316296/whatsapp-messages-per-day/)).  

#### Создание чатов/каналов:
- **0.1 действие/день**  
  Предположение:  
  - В месяц пользователь создает **3 чата** (группы/каналы):  
    `3 / 30 = 0.1`.

#### Загрузка файлов:
- **5 файлов/день**  
  Расчет:  
  - 40% сообщений содержат медиа (фото/видео/документы):  
    `30 * 0.4 = 12`.  
  - Из них 40% — фото (5/день), 30% — видео (4/день), 30% — файлы (3/день).

---

## Технические метрики: расчеты

### 1. **RPS (запросов в секунду)**
#### Отправка сообщений:
- **Текстовые сообщения**:  
  `RPS = (450 млн * 30 * 0.6) / 86,400 = 93,750`.  
  - **60%** сообщений — текст (остальные 40% — медиа).  
  - Пиковый RPS (×1.5): **140,625**.

- **Фото**:  
  `RPS = (450 млн * 30 * 0.16) / 86,400 = 25,000`.  
  - **16%** медиа-сообщений — фото (40% × 40%).  
  - Пиковый RPS: **37,500**.

- **Видео**:  
  `RPS = (450 млн * 30 * 0.12) / 86,400 = 18,750`.  
  - **12%** медиа-сообщений — видео (40% × 30%).  

#### Чтение сообщений:
- **Личные чаты**:  
  `RPS = 93,750 * 3 = 281,250`.  
  - Каждое сообщение читают **3 раза** (отправитель + 2 получателя).  

- **Групповые чаты**:  
  `RPS = 93,750 * 30 * 0.5 = 1,406,250`.  
  - В группе **30 участников**, **50%** читают сообщение.  

---

### 2. **Сетевой трафик**
#### Текстовые сообщения:
- **Пиковый трафик**:  
  `93,750 * 5 КБ * 8 = 3.75 Гбит/с`.  

#### Фото:
- **Пиковый трафик**:  
  `25,000 * 2 МБ * 8 = 400 Гбит/с`.  

#### Видео:
- **Пиковый трафик**:  
  `18,750 * 100 МБ * 8 = 15,000 Гбит/с`.  

---

### 3. **Хранилище**
#### Ежедневный объем:
- **Текстовые сообщения**:  
  `450 млн * 30 * 5 КБ = 67.5 ТБ`.  

- **Фото**:  
  `450 млн * 5 * 2 МБ = 4,500 ТБ`.  

- **Видео**:  
  `450 млн * 4 * 100 МБ = 180,000 ТБ`.  

**Итого за месяц**:  
`(67.5 + 4,500 + 180,000) * 30 = 5,537 ТБ = 5.5 ЭБ`.  

---

## Сводные таблицы

### Продуктовые метрики

| Метрика                     | Значение               | Источник/Примечание                                                                 |
|-----------------------------|-----------------------|-----------------------------------------------------------------------------------|
| Месячная аудитория (MAU)    | 950 млн              | [Официальная статистика Telegram](https://telegram.org/blog/700-million) [[7]]    |
| Дневная аудитория (DAU)     | 450 млн              | DAU ≈ 47% от MAU (аналогично WhatsApp: 55%, Viber: 40%) [[8]]                    |
| **Средний размер хранилища:** |                       |                                                                                   |
| - Текстовые сообщения       | 0.05 ГБ/польз.       | 10,000 сообщений × 5 КБ (текст + метаданные) [[9]]                               |
| - Фото                      | 1 ГБ/польз.          | 500 фото × 2 МБ (сжатие до 720p) [[10]]                                          |
| - Видео                     | 5 ГБ/польз.          | 50 видео × 100 МБ (1 мин HD) [[11]]                                              |
| - Файлы                     | 0.5 ГБ/польз.        | 100 файлов × 5 МБ (PDF/документы)                                                |
| **Среднее количество действий:** |                     |                                                                                   |
| - Отправка сообщений         | 30/день/польз.       | Аналогично WhatsApp (25-35/день) [[12]]                                          |
| - Создание чатов/каналов     | 0.1/день/польз.      | 3 чата/месяц на пользователя                                                      |
| - Загрузка файлов            | 5/день/польз.        | 40% сообщений содержат медиа (фото/видео/документы)                               |

---

### Технические метрики

#### RPS (запросов в секунду)
| Тип запроса                     | Средний RPS | Пиковый RPS (×1.5) | Формула расчета                                                                 |
|---------------------------------|-------------|---------------------|---------------------------------------------------------------------------------|
| **Отправка сообщений:**         |             |                     |                                                                                 |
| - Текстовые (личные)           | 46,875      | 70,313             | `(450 млн * 30 * 0.5 * 0.6) / 86,400`                                           |
| - Текстовые (группы)           | 46,875      | 70,313             | `(450 млн * 30 * 0.5 * 0.6) / 86,400`                                           |
| - Фото                         | 31,250      | 46,875             | `(450 млн * 30 * 0.4 * 0.4) / 86,400`                                           |
| - Видео                        | 15,625      | 23,438             | `(450 млн * 30 * 0.4 * 0.3) / 86,400`                                           |
| - Файлы                        | 7,813       | 11,719             | `(450 млн * 30 * 0.4 * 0.3) / 86,400`                                           |
| **Чтение сообщений:**          |             |                     |                                                                                 |
| - Личные чаты                  | 140,625     | 210,938            | `46,875 * 3` (отправитель + 2 получателя)                                       |
| - Групповые чаты               | 1,406,250   | 2,109,375          | `46,875 * 30 * 0.5` (30 участников, 50% читают)                                 |
| **Регистрация**                | 3           | 5                  | `(950 млн * 0.1) / (365 * 86,400)` (10% новых пользователей/год)                |

---

#### Сетевой трафик
| Тип данных                     | Пиковый трафик (Гбит/с) | Суточный трафик (ТБ/день) | Расчет                                                                         |
|--------------------------------|-------------------------|---------------------------|-------------------------------------------------------------------------------|
| Текстовые сообщения            | 0.75                   | 8.1                       | `46,875 * 5 КБ * 8 / 1,000,000,000`                                          |
| Фото                           | 500                    | 5,400                     | `31,250 * 2 МБ * 8 / 1,000`                                                  |
| Видео                          | 1,250                  | 13,500                    | `15,625 * 100 МБ * 8 / 1,000`                                                |
| Файлы                          | 312.5                  | 3,375                     | `7,813 * 5 МБ * 8 / 1,000`                                                   |

---

#### Хранилище
| Тип данных                     | Ежедневный объем (ТБ) | Месячный объем (ПБ)       | Расчет                                                                         |
|--------------------------------|-----------------------|---------------------------|-------------------------------------------------------------------------------|
| Текстовые сообщения            | 8.1                  | 0.24                      | `450 млн * 30 * 5 КБ / 1,000,000,000`                                        |
| Фото                           | 5,400                | 162                       | `450 млн * 5 * 2 МБ / 1,000,000`                                             |
| Видео                          | 13,500               | 405                       | `450 млн * 4 * 100 МБ / 1,000,000`                                           |
| Файлы                          | 3,375                | 101.25                    | `450 млн * 3 * 5 МБ / 1,000,000`                                             |
| **Итого (с запасом 15%)**      | **24,930**           | **768 ПБ**                | `(8.1 + 5,400 + 13,500 + 3,375) * 1.15 * 30 / 1,000`                         |

---


## Список источников
- [Telegram Users Statistics (2025) –New Global Data](https://www.demandsage.com/telegram-statistics/)
- [Number of Telegram app downloads worldwide in 2024, by country](https://www.statista.com/statistics/1336855/telegram-downloads-by-country/)
- [Число пользователей Telegram в России выросло до 85 млн человек](https://www.forbes.ru/tekhnologii/507878-cislo-pol-zovatelej-telegram-v-rossii-vyroslo-do-85-mln-celovek)
7. **Официальная статистика Telegram** – [700 млн пользователей](https://telegram.org/blog/700-million).  
8. **DAU мессенджеров** – Business of Apps [[8]](https://www.businessofapps.com/data/whatsapp-statistics/).  
9. **Размер сообщений** – Документация MTProto [[9]](https://core.telegram.org/mtproto/description).  
10. **Сжатие фото** – Android Police [[10]](https://www.androidpolice.com/telegram-media-quality/)).  
11. **Битрейт видео** – Videomaker [[11]](https://www.videomaker.com/article/c10/14261-bitrate-and-file-size-calculations)).  
12. **Активность WhatsApp** – Statista [[12]](https://www.statista.com/statistics/1316296/whatsapp-messages-per-day/)).  
